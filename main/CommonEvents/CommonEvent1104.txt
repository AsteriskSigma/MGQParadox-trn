// EVENT 1104
Name "Talk: Lamp Genie"

If(1,20,0,1,0)
 JumpToLabel("information")
 0()
EndIf()
If(1,20,0,2,0)
 JumpToLabel("A question")
 0()
EndIf()
If(1,20,0,3,0)
 JumpToLabel("request")
 0()
EndIf()
If(1,20,0,4,0)
 JumpToLabel("Gift")
 0()
EndIf()
DefineLabel("information")
ChangeVariable(13,13,0,2,1,100)
If(1,13,0,10,2)
 ShowMessageFace("lamp_fc1",0,0,2,1)
 ShowMessage("\\n<Lamp Genie>If I stay in my lamp for too long, my body starts to weaken.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,20,2)
 ShowMessageFace("lamp_fc1",1,0,2,2)
 ShowMessage("\\n<Lamp Genie>My lower mouth has a huge appetite. I shall feed you to it while showing you a sweet dream.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,30,2)
 ShowMessageFace("lamp_fc1",0,0,2,3)
 ShowMessage("\\n<Lamp Genie>The serpent below me is a part of my body. See for yourself. We're a single creature.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,40,2)
 ShowMessageFace("lamp_fc1",0,0,2,4)
 ShowMessage("\\n<Lamp Genie>Since I'm a yoma, I'm strong against fire magic. But don't use ice attacks. My lower self hates those.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,50,2)
 ShowMessageFace("lamp_fc1",1,0,2,5)
 ShowMessage("\\n<Lamp Genie>It's cramped inside the lamp... The rare times when I leave it feel so liberating.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,60,2)
 ShowMessageFace("lamp_fc1",0,0,2,6)
 ShowMessage("\\n<Lamp Genie>The alchemists in Witch Hunt Village are fighting each other. I'm sitting this one out, but it seems many monsters are also participating.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,70,2)
 ShowMessageFace("lamp_fc1",1,0,2,7)
 ShowMessage("\\n<Lamp Genie>Some thieves grabbed my lamp while it was for sale in a thrift shop. What happened to the thieves? They've already been digested.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,80,2)
 ShowMessageFace("lamp_fc1",1,0,2,8)
 ShowMessage("\\n<Lamp Genie>I've visited the Grandeur Theater many times in my human form. One time I even got to eat a man with a wonderful voice on my way back.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,90,2)
 ShowMessageFace("lamp_fc1",2,0,2,9)
 ShowMessage("\\n<Lamp Genie>Scorpions, Ostriches... The desert is full of crude monsters. I want to move somewhere a little more serene.")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,100,2)
 ShowMessageFace("lamp_fc1",1,0,2,10)
 ShowMessage("\\n<Lamp Genie>I've learned sexual skills that have been spread across the desert since ancient times. I'm in the middle of learning Yamatai's Sex-jutsu techniques.")
 EndEventProcessing()
 0()
EndIf()
DefineLabel("A question")
ChangeVariable(13,13,0,2,1,50)
If(1,13,0,10,2)
 ShowMessageFace("lamp_fc1",0,0,2,11)
 ShowMessage("\\n<Lamp Genie>Wealth, fame, love... Which do you desire?")
 ShowChoices(strings("Wealth.","Fame.","Love.","I won't wish for any of them."),0)
 IfPlayerPicksChoice(0,"wealth")
  ShowMessageFace("lamp_fc1",2,0,2,12)
  ShowMessage("\\n<Lamp Genie>Is that so? I knew it. Humans are foolish creatures filed with greed.")
  0()
 IfPlayerPicksChoice(1,"honor")
  ShowMessageFace("lamp_fc1",2,0,2,13)
  ShowMessage("\\n<Lamp Genie>Is that so? I knew it. Humans are foolish creatures filed with greed.")
  0()
 IfPlayerPicksChoice(2,"Love")
  ShowMessageFace("lamp_fc1",2,0,2,14)
  ShowMessage("\\n<Lamp Genie>The love of another person granted through a wish is not true love.")
  355("change_friend(-5)")
  0()
 IfPlayerPicksChoice(3,"I do not wish for any")
  ShowMessageFace("lamp_fc1",0,0,2,15)
  ShowMessage("\\n<Lamp Genie>Is there something else you desire? Or... do you want to make your wish come true on your own?")
  ShowMessageFace("lamp_fc1",1,0,2,16)
  ShowMessage("\\n<Lamp Genie>You're pretty interesting...")
  355("change_friend(10)")
  0()
 404()
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,20,2)
 ShowMessageFace("lamp_fc1",0,0,2,17)
 ShowMessage("\\n<Lamp Genie>Do you know what race I belong to?")
 ShowChoices(strings("Snake Yoma","Feral Yoma","Half-Snake Slut"),0)
 IfPlayerPicksChoice(0,"Snake Demon")
  ShowMessageFace("lamp_fc1",0,0,2,18)
  ShowMessage("\\n<Lamp Genie>Unfortunately, that race doesn't exist. I combine the powers of yoma and beasts. I am a Feral Yoma.")
  0()
 IfPlayerPicksChoice(1,"Half beast 魔女")
  ShowMessageFace("lamp_fc1",1,0,2,19)
  ShowMessage("\\n<Lamp Genie>That's right. So you do know. I combine the powers of yoma and beasts. I am a Feral Yoma.")
  355("change_friend(10)")
  0()
 IfPlayerPicksChoice(2,"Half serpent slut")
  ShowMessageFace("lamp_fc1",2,0,2,20)
  ShowMessage("\\n<Lamp Genie>Is that an insult? Very well, I'll make you regret that.")
  355("change_friend(-5)")
  0()
 404()
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,30,2)
 ShowMessageFace("lamp_fc1",0,0,2,21)
 ShowMessage("\\n<Lamp Genie>I have the power to grant any wish. ...But only as a hallucination.")
 ShowChoices(strings("That's disappointing.","That's also fine.","It doesn't matter either way."),0)
 IfPlayerPicksChoice(0,"Disappointed")
  ShowMessageFace("lamp_fc1",0,0,2,22)
  ShowMessage("\\n<Lamp Genie>But it's true. Not even the gods have the power to grant all wishes.")
  0()
 IfPlayerPicksChoice(1,"But that's fine.")
  ShowMessageFace("lamp_fc1",2,0,2,23)
  ShowMessage("\\n<Lamp Genie>Even if it's just an illusion? I'll remember to pity humanity's greed.")
  355("change_friend(-5)")
  0()
 IfPlayerPicksChoice(2,"Does not matter")
  ShowMessageFace("lamp_fc1",1,0,2,24)
  ShowMessage("\\n<Lamp Genie>You're not interested in an illusion of your desires? Or do you not have any greed? Either way, you have a strong will.")
  355("change_friend(10)")
  0()
 404()
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,40,2)
 ShowMessageFace("lamp_fc1",1,0,2,25)
 ShowMessage("\\n<Lamp Genie>I wield magic, and my snake half is good with physical attacks. Both roles in one person. Isn't that interesting?")
 ShowChoices(strings("Amazing!","That's no big deal.","I can do that too."),0)
 IfPlayerPicksChoice(0,"It is amazing!")
  ShowMessageFace("lamp_fc1",1,0,2,26)
  ShowMessage("\\n<Lamp Genie>To praise me so openly... It's a little embarrassing...")
  355("change_friend(10)")
  0()
 IfPlayerPicksChoice(1,"It is not a big deal")
  ShowMessageFace("lamp_fc1",0,0,2,27)
  ShowMessage("\\n<Lamp Genie>I wasn't really trying to impress you.")
  ShowMessageFace("lamp_fc1",2,0,2,28)
  ShowMessage("\\n<Lamp Genie>......")
  355("change_friend(-5)")
  0()
 IfPlayerPicksChoice(2,"I can do it")
  ShowMessageFace("lamp_fc1",1,0,2,29)
  ShowMessage("\\n<Lamp Genie>I see... So what role does your lower half play? Shall I check? Fufufuu.")
  0()
 404()
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,50,2)
 ShowMessageFace("lamp_fc1",0,0,2,30)
 ShowMessage("\\n<Lamp Genie>Do I need to take some measures to prevent my skin from tanning? What do you think?")
 ShowChoices(strings("You're fine the way you are.","White is best.","More sunburned would be better."),0)
 IfPlayerPicksChoice(0,"Good as it is now")
  ShowMessageFace("lamp_fc1",1,0,2,31)
  ShowMessage("\\n<Lamp Genie>Is that so? Those words make me happy. If you so desire, I shall stay like this.")
  355("change_friend(10)")
  0()
 IfPlayerPicksChoice(1,"White one is better.")
  ShowMessageFace("lamp_fc1",0,0,2,32)
  ShowMessage("\\n<Lamp Genie>Sounds like that's in fashion right now. I'll have to buy some sunscreen.")
  0()
 IfPlayerPicksChoice(2,"You had better burn it more")
  ShowMessageFace("lamp_fc1",0,0,2,33)
  ShowMessage("\\n<Lamp Genie>By saying you want me more sunburned, do you mean you want me to be darker? Honestly, I refuse to suffer through that.")
  0()
 404()
 EndEventProcessing()
 0()
EndIf()
DefineLabel("request")
ChangeVariable(13,13,0,2,1,30)
If(1,13,0,10,2)
 If(8,15)
  ShowMessageFace("lamp_fc1",0,0,2,34)
  ShowMessage("\\n<Lamp Genie>Can you give me some echo grass? I need it to make a potion.")
  ChangeVariable(24,24,0,3,0,15,0)
  ShowMessageFace("",0,0,2,35)
  ShowMessage("Do you want to give some [Echo Grass]? (Have:\\V[24])")
  ShowChoices(strings("Yes","No"),2)
  IfPlayerPicksChoice(0,"Yes")
   ShowMessageFace("lamp_fc1",1,0,2,36)
   ShowMessage("\\n<Lamp Genie>My wish has been granted... Thank you, from the bottom of my heart.")
   ChangeInventory_Item(15,1,0,1)
   355("change_friend(20)")
   EndEventProcessing()
   0()
  IfPlayerPicksChoice(1,"No")
   ShowMessageFace("lamp_fc1",2,0,2,37)
   ShowMessage("\\n<Lamp Genie>Is that so? Then I will just have to procure it myself.")
   EndEventProcessing()
   0()
  404()
  0()
 Else()
  ChangeVariable(13,13,0,0,20)
  0()
 EndIf()
 0()
EndIf()
If(1,13,0,20,2)
 If(8,440)
  ShowMessageFace("lamp_fc1",0,0,2,38)
  ShowMessage("\\n<Lamp Genie>Can you give me a roast newt? I need it to make a potion.")
  ChangeVariable(24,24,0,3,0,440,0)
  ShowMessageFace("",0,0,2,39)
  ShowMessage("Do you want to give a [Roast Newt]? (Have:\\V[24])")
  ShowChoices(strings("Yes","No"),2)
  IfPlayerPicksChoice(0,"Yes")
   ShowMessageFace("lamp_fc1",1,0,2,40)
   ShowMessage("\\n<Lamp Genie>My wish has been granted... Thank you, from the bottom of my heart.")
   ChangeInventory_Item(440,1,0,1)
   355("change_friend(30)")
   EndEventProcessing()
   0()
  IfPlayerPicksChoice(1,"No")
   ShowMessageFace("lamp_fc1",2,0,2,41)
   ShowMessage("\\n<Lamp Genie>Is that so? Then I will just have to procure it myself.")
   EndEventProcessing()
   0()
  404()
  0()
 Else()
  ChangeVariable(13,13,0,0,30)
  0()
 EndIf()
 0()
EndIf()
If(1,13,0,30,2)
 ShowMessageFace("lamp_fc1",0,0,2,42)
 ShowMessage("\\n<Lamp Genie>Ahh, my pot is cracked. And I need it to make a potion. Can you lend me some money?")
 If(7,960,0)
  ChangeVariable(24,24,0,3,7,2,0)
  ShowMessageFace("",0,0,2,43)
  ShowMessage("Do you want to give 960G? (Remaining: \\V[24])")
  ShowChoices(strings("Yes","No"),2)
  IfPlayerPicksChoice(0,"Yes")
   ShowMessageFace("lamp_fc1",1,0,2,44)
   ShowMessage("\\n<Lamp Genie>My wish has been granted... Thank you, from the bottom of my heart.")
   125(1,0,960)
   355("change_friend(25)")
   EndEventProcessing()
   0()
  IfPlayerPicksChoice(1,"No")
   ShowMessageFace("lamp_fc1",2,0,2,45)
   ShowMessage("\\n<Lamp Genie>Is that so? Then I will just have to procure it myself.")
   EndEventProcessing()
   0()
  404()
  0()
 Else()
  ShowMessageFace("lamp_fc1",2,0,2,46)
  ShowMessage("\\n<Lamp Genie>...That was rude of me. You don't have any money? Would you like me to give you an illusion of being rich?")
  EndEventProcessing()
  0()
 EndIf()
 0()
EndIf()
DefineLabel("Gift")
ChangeVariable(13,13,0,2,1,30)
If(1,25,0,1,0)
 ChangeVariable(13,13,0,0,30)
 ChangeVariable(25,25,0,0,0)
 0()
EndIf()
If(1,25,0,2,0)
 ChangeVariable(13,13,0,2,1,20)
 ChangeVariable(25,25,0,0,0)
 0()
EndIf()
If(1,13,0,10,2)
 ShowMessageFace("lamp_fc1",1,0,2,47)
 ShowMessage("\\n<Lamp Genie>I'll give you my tail. It might bring good luck.")
 250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
 ChangeInventory_Item(178,0,0,1)
 ShowMessageFace("",0,0,2,48)
 ShowMessage("The Lamp Genie gave you a [Lamia Tail]!")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,20,2)
 ShowMessageFace("lamp_fc1",1,0,2,49)
 ShowMessage("\\n<Lamp Genie>I'll give you a witch's potion. Please put it to good use.")
 250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
 ChangeInventory_Item(4,0,0,1)
 ShowMessageFace("",0,0,2,50)
 ShowMessage("The Lamp Genie gave you a [Miracle Drug]!")
 EndEventProcessing()
 0()
EndIf()
If(1,13,0,30,2)
 ShowMessageFace("lamp_fc1",1,0,2,51)
 ShowMessage("\\n<Lamp Genie>Let me grant your wish in a small way. It won't make you a millionaire... But here.")
 250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
 125(0,0,1600)
 ShowMessageFace("",0,0,2,52)
 ShowMessage("The Lamp Genie gave you 1600G!")
 EndEventProcessing()
 0()
EndIf()
0()

