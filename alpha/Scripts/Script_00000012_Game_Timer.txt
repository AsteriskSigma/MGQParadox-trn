#==============================================================================
# ■ Game_Timer
#------------------------------------------------------------------------------
# It is a class dealing with timer. An instance of this class$game_timer Referenced by
# Yes.
#==============================================================================

class Game_Timer
  #--------------------------------------------------------------------------
  # ● Object initialization
  #--------------------------------------------------------------------------
  def initialize
    @count = 0
    @working = false
  end
  #--------------------------------------------------------------------------
  # ● Frame update
  #--------------------------------------------------------------------------
  def update
    if @working && @count > 0
      @count -= 1
      on_expire if @count == 0
    end
  end
  #--------------------------------------------------------------------------
  # Start
  #--------------------------------------------------------------------------
  def start(count)
    @count = count
    @working = true
  end
  #--------------------------------------------------------------------------
  # ● Stop
  #--------------------------------------------------------------------------
  def stop
    @working = false
  end
  #--------------------------------------------------------------------------
  # ● Judging during operation
  #--------------------------------------------------------------------------
  def working?
    @working
  end
  #--------------------------------------------------------------------------
  # ● Acquisition of seconds
  #--------------------------------------------------------------------------
  def sec
    @count / Graphics.frame_rate
  end
  #--------------------------------------------------------------------------
  # ● Processing when timer reaches 0
  #--------------------------------------------------------------------------
  def on_expire
    BattleManager.abort
  end
end

