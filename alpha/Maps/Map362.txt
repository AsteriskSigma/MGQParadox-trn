
DisplayName "Lily's Mansion Laboratory"



EVENT   1
 PAGE   1
  250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x09,0x4d,0x6f,0x76,0x65,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
  TeleportPlayer(0,361,48,12,4,0)
  0()



EVENT   2
 PAGE   1
  250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x09,0x4d,0x6f,0x76,0x65,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
  TeleportPlayer(0,361,48,12,4,0)
  0()



EVENT   3
 PAGE   1
  250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x09,0x4d,0x6f,0x76,0x65,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
  TeleportPlayer(0,361,48,12,4,0)
  0()



EVENT   4
 PAGE   1
  108("Light setting 10320300")
  0()



EVENT   5
 PAGE   1
  108("Light setting 1500200")
  0()



EVENT   6
 PAGE   1
  108("Light setting 1500200")
  0()



EVENT   7
 PAGE   1
  108("Light setting 6500200")
  0()



EVENT   8
 PAGE   1
  108("Light setting 6500200")
  0()



EVENT   9
 PAGE   1
  108("Light setting 5320100")
  0()



EVENT   10
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   11
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   12
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   13
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   14
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   15
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   16
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   17
 PAGE   1
  108("Light setting 3300300")
  0()



EVENT   18
 PAGE   1
  223(bytes(0x04,0x08,0x75,0x3a,0x09,0x54,0x6f,0x6e,0x65,0x25,0x00,0x00,0x00,0x00,0x00,0x00,0x51,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x51,0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x51,0x40),1,true)
  ChangeSelfSwitch("A",0)
  0()
 PAGE   2
  // condition: self-switch A is ON
  0()



EVENT   19
 PAGE   1
  108("Light setting 2160400")
  0()



EVENT   20
 PAGE   1
  // condition: switch 2091 is ON
  241(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x62,0x6f,0x73,0x73,0x30,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
  PictureDisplay(5,"80_lily_st11",0,0,0,0,100,100,0,0)
  PictureMove(5,null,0,0,0,0,100,100,255,0,30,true)
  ShowMessageFace("lily_fc1",0,0,2,1)
  ShowMessage("\\n<Lily>I can't believe you came all this way to defeat me... Lucia instigated this, I presume?")
  PictureDisplay(5,"80_lily_st13",0,0,0,0,100,100,255,0)
  ShowMessageFace("lily_fc1",2,0,2,2)
  ShowMessage("\\n<Lily>You apparently think Lucia's claims are correct. Once tentacle magic spreads, the world will fall into chaos...")
  ShowMessageFace("lily_fc1",2,0,2,3)
  ShowMessage("\\n<Lily>But hiding the tentacle magic techniques would mean that only a select few would control it.")
  ShowMessageFace("lily_fc1",2,0,2,4)
  ShowMessage("\\n<Lily>Don't you think that's the most dangerous outcome?")
  If(0,6,0)
   ShowMessageFace("sonia_fc2",2,0,2,5)
   ShowMessage("\\n<Sonya>Certainly, that might be so...")
   0()
  Else()
   ShowMessageFace("ruka_fc1",0,0,2,6)
   ShowMessage("\\n<Luka>Certainly, that might be true...")
   0()
  EndIf()
  ShowMessageFace("lily_fc1",2,0,2,7)
  ShowMessage("\\n<Lily>The few will monopolize power... That will undoubtedly birth violence and oppression.")
  ShowMessageFace("lily_fc1",2,0,2,8)
  ShowMessage("\\n<Lily>And then, the lamenting voices won't stop... Listen, you can hear them, right...? Voices seeking help are...")
  ShowMessageFace("lily_fc1",2,0,2,9)
  ShowMessage("\\n<Lily>I just want the voices to stop! I'm sure you hear them, the voices of the oppressed!")
  ShowMessageFace("ruka_fc1",0,0,2,10)
  ShowMessage("\\n<Luka>......")
  ShowMessageFace("lily_fc1",2,0,2,11)
  ShowMessage("\\n<Lily>My offer is still valid. Even now, if you defeat Lucia, I'll become your comrade.")
  ShowMessageFace("lily_fc1",2,0,2,12)
  ShowMessage("\\n<Lily>Do you want to defeat me... despite that? Will you trample over the voices of the oppressed and strike me down?")
  ShowChoices(strings("Fight Lily","Accept the deal, fight Lucia"),2)
  IfPlayerPicksChoice(0,null)
   ShowMessageFace("ruka_fc1",0,0,2,13)
   ShowMessage("\\n<Luka>I do hear the cries of a person seeking help... Lily, it's your voice.")
   ShowMessageFace("lily_fc1",2,0,2,14)
   ShowMessage("\\n<Lily>Mine...?")
   ShowMessageFace("ruka_fc1",0,0,2,15)
   ShowMessage("\\n<Luka>The one who's seeking help is you. Those voices are probably coming from inside of you.")
   If(0,4,0)
    ShowMessageFace("alice_fc5",0,0,2,16)
    ShowMessage("\\n<Alice>Inside of you is a lingering sense of guilt for orchestrating a slaughter. You're trying to overwrite it with a self-imposed duty save the weak.")
    ShowMessageFace("alice_fc5",3,0,2,17)
    ShowMessage("\\n<Alice>You're trying to conceal your broken heart with tentacle magic, and paint it as some sort of mission. You even pretend your own screams are someone else's...")
    ShowMessageFace("alice_fc5",2,0,2,18)
    ShowMessage("\\n<Alice>One day you will break, that's for certain. You have to face your own heart before that happens.")
    0()
   EndIf()
   If(0,5,0)
    ShowMessageFace("iriasu_fc4",7,0,2,19)
    ShowMessage("\\n<Ilias>Your mind is on the verge of breaking.")
    ShowMessageFace("iriasu_fc4",7,0,2,20)
    ShowMessage("\\n<Ilias>Even if you overwrite remorse and guilt with a sense of duty... What's done is done, and this crying voice won't disappear.")
    ShowMessageFace("iriasu_fc4",7,0,2,21)
    ShowMessage("\\n<Ilias>You should save yourself before you try to save others. Honestly face the screams of your heart.")
    0()
   EndIf()
   ShowMessageFace("lily_fc1",2,0,2,22)
   ShowMessage("\\n<Lily>You're wrong... I do this to save the oppressed... to erase the crying voices!")
   ShowMessageFace("lily_fc1",2,0,2,23)
   ShowMessage("\\n<Lily>I mean, they won't disappear until I do that! Those crying voices... voices... voiceees...")
   ShowMessageFace("ruka_fc1",0,0,2,24)
   ShowMessage("\\n<Luka>The power of tentacle magic saved you... That's undeniable. But now, that power is breaking you.")
   ShowMessageFace("ruka_fc1",0,0,2,25)
   ShowMessage("\\n<Luka>I will wield my sword to break that power! Let's go, Lily!")
   ShowMessageFace("lily_fc1",2,0,2,26)
   ShowMessage("\\n<Lily>So, you intend to oppress us as well! You're just like the men of this village!")
   PictureDisplay(5,"80_lily_st04",0,0,0,0,100,100,255,0)
   ShowMessageFace("lily_fc1",6,0,2,27)
   ShowMessage("\\n<Lily>I'll beat you down and make you pay! I'll devour you with this tentacle until you shrivel up in disgrace!")
   If(4,163,0)
    ShowMessageFace("lily_fc1",5,0,2,28)
    ShowMessage("\\n<Lily'>......")
    ShowMessageFace("lily_fc1",6,0,2,29)
    ShowMessage("\\n<Lily>Oh, I see another me... She must be seeking help...")
    ShowMessageFace("lily_fc1",3,0,2,30)
    ShowMessage("\\n<Lily'>No, I have come to save you. To save myself...")
    ShowMessageFace("lily_fc1",6,0,2,31)
    ShowMessage("\\n<Lily>I hear my own voice... It asks me for help...")
    ShowMessageFace("lily_fc1",4,0,2,32)
    ShowMessage("\\n<Lily'>...Looks like I can't converse properly. Very well, I shall save myself...")
    0()
   EndIf()
   PictureClear(5)
   SetBattleBGM(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x62,0x6f,0x73,0x73,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
   ChangeSwitch(22,22,0)
   Battle(0,270,false,false)
   ChangeSwitch(22,22,1)
   241(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x6b,0x69,0x6b,0x69,0x32,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
   SetBattleBGM(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0b,0x62,0x61,0x74,0x74,0x6c,0x65,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
   PictureDisplay(5,"80_lily_st13",0,0,0,0,100,100,0,0)
   PictureMove(5,null,0,0,0,0,100,100,255,0,30,true)
   ShowMessageFace("lily_fc1",2,0,2,33)
   ShowMessage("\\n<Lily>So I am to be crushed underfoot after all...")
   ChangeSwitch(2096,2096,0)
   ChangeSwitch(1917,1917,0)
   250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0d,0x6d,0x6f,0x6e,0x5f,0x64,0x6f,0x77,0x6e,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69))
   PictureClear(5)
   ChangeVariable(1029,1029,0,0,5)
   ShowMessageFace("",0,0,2,34)
   ShowMessage("Lily loses consciousness...")
   If(0,4,0)
    ShowMessageFace("alice_fc5",0,0,2,35)
    ShowMessage("\\n<Alice>She probably won't be able to use tentacle magic for a while now that she's this exhausted. This should fulfill our deal with Lucia...")
    0()
   EndIf()
   If(0,5,0)
    ShowMessageFace("iriasu_fc4",0,0,2,36)
    ShowMessage("\\n<Ilias>She won't be able to use tentacle magic for the time being after having been exhausted to this point. Fortunately we were able to destroy her evil ambitions.")
    0()
   EndIf()
   If(0,6,0)
    ShowMessageFace("sonia_fc2",2,0,2,37)
    ShowMessage("\\n<Sonya>It was difficult in many ways, but this is for the best, right...?")
    0()
   EndIf()
   ShowMessageFace("ruka_fc1",0,0,2,38)
   ShowMessage("\\n<Luka>Lily is surely a strong person... Released from her tentacle magic, I feel that she will be able to face her own heart.")
   ShowMessageFace("ruka_fc1",0,0,2,39)
   ShowMessage("\\n<Luka>Now, let's go report to Lucia!")
   241(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x12,0x64,0x75,0x6e,0x67,0x65,0x6f,0x6e,0x5f,0x6d,0x61,0x64,0x6f,0x75,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
   EndEventProcessing()
   0()
  IfPlayerPicksChoice(1,null)
   PictureDisplay(5,"80_lily_st11",0,0,0,0,100,100,255,0)
   ChangeSwitch(2094,2094,0)
   ShowMessageFace("lily_fc1",0,0,2,40)
   ShowMessage("\\n<Lily>So, you changed your mind. As I thought, you can hear them, those crying voices...")
   ShowMessageFace("lily_fc1",0,0,2,41)
   ShowMessage("\\n<Lily>Well then, I'll be waiting. Until you defeat Lucia, that is...")
   PictureClear(5)
   241(bytes(0x04,0x08,0x6f,0x3a,0x0d,0x52,0x50,0x47,0x3a,0x3a,0x42,0x47,0x4d,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x12,0x64,0x75,0x6e,0x67,0x65,0x6f,0x6e,0x5f,0x6d,0x61,0x64,0x6f,0x75,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x69,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69))
   If(0,2095,0)
    355("gain_medal(2008)")
    0()
   EndIf()
   EndEventProcessing()
   0()
  404()
  0()
 PAGE   2
  // condition: variable 1029 >= 5
  0()



EVENT   21
 PAGE   1
  ShowMessageFace("",0,0,2,1)
  ShowMessage("The party uses the circle of healing...")
  250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x48,0x65,0x61,0x6c,0x37,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
  224(bytes(0x04,0x08,0x75,0x3a,0x0a,0x43,0x6f,0x6c,0x6f,0x72,0x25,0x00,0x00,0x00,0x00,0x00,0xe0,0x6f,0x40,0x00,0x00,0x00,0x00,0x00,0xe0,0x6f,0x40,0x00,0x00,0x00,0x00,0x00,0xe0,0x6f,0x40,0x00,0x00,0x00,0x00,0x00,0xe0,0x6f,0x40),30,true)
  314(0,0)
  ShowMessageFace("",0,0,2,2)
  ShowMessage("The party's HP and MP have been fully recovered!")
  0()



EVENT   22
 PAGE   1
  250(bytes(0x04,0x08,0x6f,0x3a,0x0c,0x52,0x50,0x47,0x3a,0x3a,0x53,0x45,0x08,0x3a,0x0a,0x40,0x6e,0x61,0x6d,0x65,0x49,0x22,0x0a,0x49,0x74,0x65,0x6d,0x31,0x06,0x3a,0x06,0x45,0x54,0x3a,0x0b,0x40,0x70,0x69,0x74,0x63,0x68,0x69,0x69,0x3a,0x0c,0x40,0x76,0x6f,0x6c,0x75,0x6d,0x65,0x69,0x55))
  ChangeSelfSwitch("A",0)
  ChangeInventory_Item(5,0,0,1)
  0()
 PAGE   2
  // condition: self-switch A is ON
  0()

